[tool:pytest]
# Performance test configuration for lionagi v1 services

# Test discovery
testpaths = .
python_files = test_performance_*.py test_*.py
python_classes = Test*
python_functions = test_*

# Markers for test categorization
markers =
    performance: Performance benchmark tests
    msgspec: msgspec serialization performance tests  
    executor: Executor performance and throughput tests
    streaming: Streaming performance and latency tests
    integration: End-to-end integration performance tests
    slow: Slow running tests (>30 seconds)
    memory: Memory usage validation tests
    concurrency: Concurrent execution tests

# Async support
asyncio_mode = auto

# Benchmark configuration
benchmark_min_time = 0.01
benchmark_max_time = 5.0
benchmark_min_rounds = 3
benchmark_warmup = true
benchmark_warmup_iterations = 1
benchmark_disable_gc = true
benchmark_timer = time.perf_counter

# Output format
addopts = 
    -v
    --tb=short
    --strict-markers
    --strict-config
    --durations=10
    
# Logging
log_auto_indent = true
log_cli = false
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning:django.*
    ignore::pytest.PytestUnraisableExceptionWarning
